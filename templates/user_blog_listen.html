{% extends "user_layout.html" %} {% block content %}
<div
  style="
    justify-content: center;
    align-items: center;
    color: whitesmoke;
    overflow: auto;
  "
>
  {% with messages = get_flashed_messages() %} {% if messages %} {% for message
  in messages %}
  <div class="alert alert-danger" role="alert">{{ message }}</div>
  {% endfor %} {% endif %} {% endwith %}
  <br />
  <div class="container w-75 text-center">
    <form action="/user_blog_search" method="post">
      <div class="row">
        <div class="col-10">
          <input
            name="title"
            type="text"
            class="from-control rounded-pill"
            placeholder="Search Blog.."
            value="{{title}}"
          />
        </div>
        <div class="col-2">
          <button type="submit" class="btn btn-primary">Search</button>
        </div>
      </div>
    </form>
  </div>
  <br />
  <div class="col 12">
    <table class="table table-striped">
      <thead>
        <tr>
          <th>Creator ID</th>
          <th>Audio</th>
          <th>Category</th>
          <th>Audio Text</th>
          <th>Play</th>
          <th>+ Playlist</th>
        </tr>
      </thead>
      <tbody>
        {% for r in record %}
        <tr>
          <td>{{ r[0] }}</td>
          <td>{{ r[1] }}</td>
          <td>{{ r[2] }}</td>
          <td>{{ r[3] }}</td>
          <td>
            <audio controls>
              <source src="../static/audioblog/{{r[1]}}" type="audio/wav" />
              Your browser does not support the audio element.
            </audio>
          </td>
          <td><button class="btn btn-warning">+Playlist</button></td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %} {% block user_buttons %}
<a class="nav-link" href="/creator_profile">Profile</a>
<a class="nav-link" href="/creator_logout">Logout</a>
{% endblock %}

<!-- Include the JavaScript code directly in the HTML file -->

<script>
  document.addEventListener("DOMContentLoaded", function () {
    var navLinks = document.querySelectorAll(".nav-link");

    for (var i = 0; i < navLinks.length; i++) {
      navLinks[i].addEventListener("click", function (event) {
        event.preventDefault();

        // Remove the "active" class from all links
        for (var j = 0; j < navLinks.length; j++) {
          navLinks[j].classList.remove("active");
        }

        // Add the "active" class to the clicked link
        this.classList.add("active");

        // Manually navigate to the link's href
        window.location.href = this.href;
      });
    }
  });
</script>
